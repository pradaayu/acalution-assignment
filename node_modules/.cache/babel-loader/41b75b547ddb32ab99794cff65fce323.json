{"ast":null,"code":"import _slicedToArray from\"/home/prada/Documents/acalution-assignment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useCallback}from'react';import{Link}from'react-router-dom';import AddToCartButton from'../AddToCartButton';import BookmarkButton from'../BookmarkButton';import useProductList from'./product-list.hooks';import useModal from'../compability/modal.hooks';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Button from'react-bootstrap/Button';import Spinner from'react-bootstrap/Spinner';import MessageModal from'../MessageModal';// import ProductItemCard from './ProductItemCard'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductCard=function ProductCard(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var observer=useRef();var _useProductList=useProductList(page),productList=_useProductList.productList,errorMessage=_useProductList.errorMessage,visibleModalError=_useProductList.visibleModalError,handleCloseError=_useProductList.handleCloseError,loading=_useProductList.loading,error=_useProductList.error,loadMore=_useProductList.loadMore,totalPage=_useProductList.totalPage;var _useModal=useModal(),productName=_useModal.productName,handleClickCart=_useModal.handleClickCart,handleClickBookmark=_useModal.handleClickBookmark,visibleModal=_useModal.visibleModal,visibleModalBookmark=_useModal.visibleModalBookmark,handleClose=_useModal.handleClose,handleCloseBookmark=_useModal.handleCloseBookmark;var lastProductElementRef=useCallback(function(node){// console.log('node', node)\nif(loading)return;if(observer.current)observer.current.disconnect();observer.current=new IntersectionObserver(function(entries){if(entries[0].isIntersecting&&loadMore){// console.log('visible')\nsetPage(function(prevPage){return prevPage+1;});}});if(node)observer.current.observe(node);},[loading,loadMore]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"justify-content-md-center\",children:[productList.map(function(item,index){if(productList.length===index+1){return/*#__PURE__*/_jsx(Col,{ref:lastProductElementRef,value:item,md:4,sm:12,children:/*#__PURE__*/_jsx(Link,{to:\"product/\".concat(item.id),children:/*#__PURE__*/_jsxs(Row,{className:\"mb-5\",children:[/*#__PURE__*/_jsx(Col,{className:\"justify-content-md-center\",md:3,children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{style:{minWidth:'80px'},className:\"img-fluid\",src:item.image,alt:\"bottle\"})})}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{height:'160px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{height:'120px',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h5\",style:{color:'#842529'},children:[item.name,\" \",item.vintageYear!==0?item.vintageYear:'']}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#313131'},children:[item.type,\" | \",item.grapeVarietes]}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#313131'},children:item.vintageYear===0?'Non Vintage':''}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#313131'},children:[item.country,\", \",item.region]})]}),/*#__PURE__*/_jsxs(Row,{className:\"mt-2\",style:{height:'55px'},children:[/*#__PURE__*/_jsx(Col,{md:7,className:\"text-left\",children:/*#__PURE__*/_jsxs(\"div\",{style:{color:'#242424'},className:\"h5\",children:[\"S$\",item.price]})}),item.qty<=5?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-1 mt-n3\",style:{backgroundColor:'#CC962C',color:'white',borderRadius:'50%',fontSize:'12px',height:'50px',width:'50px'},children:/*#__PURE__*/_jsxs(\"span\",{children:[item.qty,/*#__PURE__*/_jsx(\"br\",{}),\"Left\"]})}):'']})]}),/*#__PURE__*/_jsxs(Row,{className:\"ml-1\",children:[/*#__PURE__*/_jsx(AddToCartButton,{handleClickButton:function handleClickButton(e){return handleClickCart(item.name,e);},textSize:\"12px\"}),/*#__PURE__*/_jsx(BookmarkButton,{handleClickButton:function handleClickButton(e){return handleClickBookmark(item.name,e);}})]})]})]})})},index);}else{return/*#__PURE__*/_jsx(Col,{value:item,md:4,sm:12,children:/*#__PURE__*/_jsx(Link,{to:\"product/\".concat(item.id),children:/*#__PURE__*/_jsxs(Row,{className:\"mb-5\",children:[/*#__PURE__*/_jsx(Col,{className:\"justify-content-md-center\",md:3,children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{style:{minWidth:'80px'},className:\"img-fluid\",src:item.image,alt:\"bottle\"})})}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{height:'160px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{height:'120px',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h5\",style:{color:'#842529'},children:[item.name,\" \",item.vintageYear!==0?item.vintageYear:'']}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#313131'},children:[item.type,\" | \",item.grapeVarietes]}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#313131'},children:item.vintageYear===0?'Non Vintage':''}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#313131'},children:[item.country,\", \",item.region]})]}),/*#__PURE__*/_jsxs(Row,{className:\"mt-2\",style:{height:'55px'},children:[/*#__PURE__*/_jsx(Col,{md:7,className:\"text-left\",children:/*#__PURE__*/_jsxs(\"div\",{style:{color:'#242424'},className:\"h5\",children:[\"S$\",item.price]})}),item.qty<=5?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-1 mt-n3\",style:{backgroundColor:'#CC962C',color:'white',borderRadius:'50%',fontSize:'12px',height:'50px',width:'50px'},children:/*#__PURE__*/_jsxs(\"span\",{children:[item.qty,/*#__PURE__*/_jsx(\"br\",{}),\"Left\"]})}):'']})]}),/*#__PURE__*/_jsxs(Row,{className:\"ml-1\",children:[/*#__PURE__*/_jsx(AddToCartButton,{handleClickButton:function handleClickButton(e){return handleClickCart(item.name,e);},textSize:\"12px\"}),/*#__PURE__*/_jsx(BookmarkButton,{handleClickButton:function handleClickButton(e){return handleClickBookmark(item.name,e);}})]})]})]})})},index);}}),/*#__PURE__*/_jsx(\"div\",{children:error&&/*#__PURE__*/_jsx(MessageModal,{visibleModal:visibleModalError,handleClose:handleCloseError,message:errorMessage,productName:\"\",isSuccess:false})})]}),loading&&/*#__PURE__*/_jsxs(Row,{className:\"text-center justify-content-center\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"grow\"}),/*#__PURE__*/_jsx(Spinner,{animation:\"grow\"}),/*#__PURE__*/_jsx(Spinner,{animation:\"grow\"})]}),page===1&&loadMore?/*#__PURE__*/_jsx(Row,{className:\"text-center justify-content-center\",children:/*#__PURE__*/_jsx(Button,{variant:\"flat\",children:\"Load More\"})}):'',/*#__PURE__*/_jsx(MessageModal,{visibleModal:visibleModalBookmark,handleClose:handleCloseBookmark,message:\"is bookmarked\",productName:productName,isSuccess:true}),/*#__PURE__*/_jsx(MessageModal,{visibleModal:visibleModal,handleClose:handleClose,message:\"is added to cart\",productName:productName,isSuccess:true})]});};export default ProductCard;","map":{"version":3,"sources":["/home/prada/Documents/acalution-assignment/src/components/productlist/ProductListCard.jsx"],"names":["React","useState","useRef","useCallback","Link","AddToCartButton","BookmarkButton","useProductList","useModal","Row","Col","Button","Spinner","MessageModal","ProductCard","page","setPage","observer","productList","errorMessage","visibleModalError","handleCloseError","loading","error","loadMore","totalPage","productName","handleClickCart","handleClickBookmark","visibleModal","visibleModalBookmark","handleClose","handleCloseBookmark","lastProductElementRef","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prevPage","observe","map","item","index","length","id","minWidth","image","height","overflow","color","name","vintageYear","type","grapeVarietes","country","region","price","qty","backgroundColor","borderRadius","fontSize","width","e"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback } from 'react'\nimport { Link } from 'react-router-dom'\nimport AddToCartButton from '../AddToCartButton'\nimport BookmarkButton from '../BookmarkButton'\nimport useProductList from './product-list.hooks'\nimport useModal from '../compability/modal.hooks'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\nimport Spinner from 'react-bootstrap/Spinner'\nimport MessageModal from '../MessageModal'\n// import ProductItemCard from './ProductItemCard'\n\nconst ProductCard = () => {\n  const [page, setPage] = useState(1)\n  const observer = useRef()\n  const {\n    productList, errorMessage,\n    visibleModalError, handleCloseError, \n    loading, error, loadMore, totalPage\n  } = useProductList(page)\n  const {\n    productName,\n    handleClickCart, handleClickBookmark,\n    visibleModal, visibleModalBookmark,\n    handleClose, handleCloseBookmark\n  } = useModal()\n  const lastProductElementRef = useCallback(node => {\n    // console.log('node', node)\n    if (loading) return\n    if (observer.current) observer.current.disconnect()\n    observer.current = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && loadMore) {\n        // console.log('visible')\n        setPage(prevPage => prevPage + 1)\n      }\n    })\n    if (node) observer.current.observe(node)\n  }, [loading, loadMore]) \n\n  return (\n    <>\n      <Row className=\"justify-content-md-center\">\n\n        {productList.map((item, index) => {\n          if (productList.length === index + 1) {\n            return <Col ref={lastProductElementRef} value={item} key={index} md={4} sm={12} >\n                <Link to={`product/${item.id}`}>\n                  <Row className=\"mb-5\">\n                    <Col className=\"justify-content-md-center\" md={3}>\n                      <div>\n                        <img style={{minWidth: '80px'}} className=\"img-fluid\" src={item.image} alt=\"bottle\"/>\n                      </div>\n                    </Col>\n                    <Col>\n                      <div style={{height: '160px'}}>\n                        <div style={{height: '120px', overflow: 'hidden'}}>\n                          <div className=\"h5\" style={{color: '#842529'}}>{item.name} {item.vintageYear !== 0 ? item.vintageYear : ''}</div>\n                          <div style={{color: '#313131'}}>{item.type} | {item.grapeVarietes}</div>\n                          <div style={{color: '#313131'}}>{item.vintageYear === 0 ? 'Non Vintage' : ''}</div>\n                          <div style={{color: '#313131'}}>{item.country}, {item.region}</div>\n                        </div>\n                        <Row className=\"mt-2\" style={{height: '55px'}}>\n                          <Col md={7} className=\"text-left\">\n                            <div style={{color: '#242424'}} className=\"h5\">S${item.price}</div>\n                          </Col>\n                            {\n                              item.qty <= 5 ?\n                              <div className='text-center py-1 mt-n3'\n                                style={{\n                                  backgroundColor: '#CC962C', color: 'white',\n                                  borderRadius: '50%', fontSize: '12px', height: '50px', width: '50px'\n                                }}\n                              >\n                                <span>{item.qty}<br/>Left</span>\n                              </div>\n                               : ''\n                            }\n                        </Row>\n                      </div>\n                      <Row className=\"ml-1\">\n                        <AddToCartButton handleClickButton={(e) => handleClickCart(item.name, e)} textSize=\"12px\"/>                    \n                        <BookmarkButton handleClickButton={(e) => handleClickBookmark(item.name, e)}/>\n                      </Row>\n                    </Col>\n                  </Row>\n                </Link>\n              </Col>\n          } else {\n            return <Col value={item} key={index} md={4} sm={12} >\n                <Link to={`product/${item.id}`}>\n                  <Row className=\"mb-5\">\n                    <Col className=\"justify-content-md-center\" md={3}>\n                      <div>\n                        <img style={{minWidth: '80px'}} className=\"img-fluid\" src={item.image} alt=\"bottle\"/>\n                      </div>\n                    </Col>\n                    <Col>\n                      <div style={{height: '160px'}}>\n                        <div style={{height: '120px', overflow: 'hidden'}}>\n                          <div className=\"h5\" style={{color: '#842529'}}>{item.name} {item.vintageYear !== 0 ? item.vintageYear : ''}</div>\n                          <div style={{color: '#313131'}}>{item.type} | {item.grapeVarietes}</div>\n                          <div style={{color: '#313131'}}>{item.vintageYear === 0 ? 'Non Vintage' : ''}</div>\n                          <div style={{color: '#313131'}}>{item.country}, {item.region}</div>\n                        </div>\n                        <Row className=\"mt-2\" style={{height: '55px'}}>\n                          <Col md={7} className=\"text-left\">\n                            <div style={{color: '#242424'}} className=\"h5\">S${item.price}</div>\n                          </Col>\n                            {\n                              item.qty <= 5 ?\n                              <div className='text-center py-1 mt-n3'\n                                style={{\n                                  backgroundColor: '#CC962C', color: 'white',\n                                  borderRadius: '50%', fontSize: '12px', height: '50px', width: '50px'\n                                }}\n                              >\n                                <span>{item.qty}<br/>Left</span>\n                              </div>\n                               : ''\n                            }\n                        </Row>\n                      </div>\n                      <Row className=\"ml-1\">\n                        <AddToCartButton handleClickButton={(e) => handleClickCart(item.name, e)} textSize=\"12px\"/>                    \n                        <BookmarkButton handleClickButton={(e) => handleClickBookmark(item.name, e)}/>\n                      </Row>\n                    </Col>\n                  </Row>\n                </Link>\n              </Col>\n          }\n        })}\n\n        <div>\n          {\n            error &&\n            <MessageModal\n              visibleModal={visibleModalError}\n              handleClose={handleCloseError}\n              message={errorMessage}\n              productName=\"\"\n              isSuccess={false}\n            />\n          }\n        </div>\n\n      </Row>\n\n        {\n          loading && \n          <Row className=\"text-center justify-content-center\">\n            <Spinner animation=\"grow\"></Spinner>\n            <Spinner animation=\"grow\"></Spinner>\n            <Spinner animation=\"grow\"></Spinner>\n          </Row>\n        }\n\n      {\n        page === 1 && loadMore ?\n        <Row className=\"text-center justify-content-center\">\n          <Button variant=\"flat\">Load More</Button>\n        </Row>\n        :\n        ''\n      }\n\n      <MessageModal\n        visibleModal={visibleModalBookmark}\n        handleClose={handleCloseBookmark}\n        message=\"is bookmarked\"\n        productName={productName}\n        isSuccess={true}\n      />\n      <MessageModal\n        visibleModal={visibleModal}\n        handleClose={handleClose}\n        message=\"is added to cart\"\n        productName={productName}\n        isSuccess={true}\n      />\n    </>\n  )\n}\n\nexport default ProductCard"]},"metadata":{},"sourceType":"module"}