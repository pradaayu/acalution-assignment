{"ast":null,"code":"import _regeneratorRuntime from\"/home/prada/Documents/acalution-assignment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/prada/Documents/acalution-assignment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/prada/Documents/acalution-assignment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import axios from'axios';import{BASE_URL}from'../../constants';import{useParams}from'react-router-dom';var useProductDetail=function useProductDetail(){var _useParams=useParams(),id=_useParams.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),productDetail=_useState2[0],setProductDetail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),visibleModalError=_useState6[0],setVisibleModalError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),errorMessage=_useState10[0],setErrorMessage=_useState10[1];var handleCloseError=function handleCloseError(){return setVisibleModalError(false);};useEffect(function(){getProductDetail(id);},[]);var getProductDetail=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var res,_productDetail;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return axios.get(\"\".concat(BASE_URL,\"/\").concat(id));case 4:res=_context.sent;if(res.status===200){_productDetail=res.data;setProductDetail(_productDetail.value);setLoading(false);}_context.next=14;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setError(true);setErrorMessage(_context.t0);setVisibleModalError(true);setLoading(false);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function getProductDetail(_x){return _ref.apply(this,arguments);};}();return{productDetail:productDetail,loading:loading,error:error,errorMessage:errorMessage,visibleModalError:visibleModalError,handleCloseError:handleCloseError};};export default useProductDetail;","map":{"version":3,"sources":["/home/prada/Documents/acalution-assignment/src/components/productdetail/product-detail.hooks.js"],"names":["useEffect","useState","axios","BASE_URL","useParams","useProductDetail","id","productDetail","setProductDetail","loading","setLoading","visibleModalError","setVisibleModalError","error","setError","errorMessage","setErrorMessage","handleCloseError","getProductDetail","get","res","status","data","value"],"mappings":"geAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,gBACdD,SAAS,EADK,CACrBE,EADqB,YACrBA,EADqB,eAEaL,QAAQ,CAAC,EAAD,CAFrB,wCAEtBM,aAFsB,eAEPC,gBAFO,8BAGCP,QAAQ,CAAC,KAAD,CAHT,yCAGtBQ,OAHsB,eAGbC,UAHa,8BAIqBT,QAAQ,CAAC,KAAD,CAJ7B,yCAItBU,iBAJsB,eAIHC,oBAJG,8BAKHX,QAAQ,CAAC,KAAD,CALL,yCAKtBY,KALsB,eAKfC,QALe,8BAMWb,QAAQ,CAAC,EAAD,CANnB,0CAMtBc,YANsB,gBAMRC,eANQ,gBAO7B,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,SAAML,CAAAA,oBAAoB,CAAC,KAAD,CAA1B,EAAzB,CACAZ,SAAS,CAAC,UAAM,CACdkB,gBAAgB,CAACZ,EAAD,CAAhB,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMY,CAAAA,gBAAgB,0FAAG,iBAAOZ,EAAP,yIACvBI,UAAU,CAAC,IAAD,CAAV,CADuB,sCAGHR,CAAAA,KAAK,CAACiB,GAAN,WAAahB,QAAb,aAAyBG,EAAzB,EAHG,QAGfc,GAHe,eAIrB,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CAClBd,cADkB,CACFa,GAAG,CAACE,IADF,CAExBd,gBAAgB,CAACD,cAAa,CAACgB,KAAf,CAAhB,CACAb,UAAU,CAAC,KAAD,CAAV,CACC,CARoB,+EAUrBI,QAAQ,CAAC,IAAD,CAAR,CACAE,eAAe,aAAf,CACAJ,oBAAoB,CAAC,IAAD,CAApB,CACAF,UAAU,CAAC,KAAD,CAAV,CAbqB,oEAAH,kBAAhBQ,CAAAA,gBAAgB,4CAAtB,CAgBA,MAAO,CACLX,aAAa,CAAbA,aADK,CACUE,OAAO,CAAPA,OADV,CACmBI,KAAK,CAALA,KADnB,CAC0BE,YAAY,CAAZA,YAD1B,CACwCJ,iBAAiB,CAAjBA,iBADxC,CAC2DM,gBAAgB,CAAhBA,gBAD3D,CAAP,CAGD,CA/BD,CAiCA,cAAeZ,CAAAA,gBAAf","sourcesContent":["import { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { BASE_URL } from '../../constants'\nimport { useParams } from 'react-router-dom'\n\nconst useProductDetail = () => {\n  const { id } = useParams()\n  const [productDetail, setProductDetail] = useState({})\n  const [loading, setLoading] = useState(false)\n  const [visibleModalError, setVisibleModalError] = useState(false)\n  const [error, setError] = useState(false)\n  const [errorMessage, setErrorMessage] = useState('')\n  const handleCloseError = () => setVisibleModalError(false)\n  useEffect(() => {\n    getProductDetail(id)\n  }, [])\n\n  const getProductDetail = async (id) => {\n    setLoading(true)\n    try {\n      const res = await axios.get(`${BASE_URL}/${id}`)\n      if (res.status === 200) {\n      const productDetail = res.data\n      setProductDetail(productDetail.value)\n      setLoading(false)\n      }\n    } catch (error) {\n      setError(true)\n      setErrorMessage(error)\n      setVisibleModalError(true)\n      setLoading(false)\n    }\n  }\n  return {\n    productDetail, loading, error, errorMessage, visibleModalError, handleCloseError\n  }\n}\n\nexport default useProductDetail"]},"metadata":{},"sourceType":"module"}